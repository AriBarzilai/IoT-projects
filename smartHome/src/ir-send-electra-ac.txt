#include <Arduino.h>

#define IR_SEND_PIN  4  // D4

#include <IRremote.hpp>

// AC commands data
uint64_t acOnData[] = {0x20002019E157C3, 0x7400002000};
uint64_t acOffData[] = {0x2000201AE14FC3, 0x6E01002000};
uint64_t acTempUpData[] = {0x20002019E157C3, 0x7400002000};
uint64_t acTempDownData[] = {0x2000201AE14FC3, 0x6E01002000};
uint64_t acModeData[] = {0xC000601AE187C3, 0x8B06002000};
uint64_t acFanData[] = {0xC000401BE187C3, 0x6A04002000};

void setup() {
    Serial.begin(115200);
    IrSender.begin(IR_SEND_PIN); // Removed the ENABLE_LED_FEEDBACK parameter
    Serial.println(F("Ready to send Electra AC 32-in-1 IR signals. Press 'n' for ON, 'f' for OFF."));
}

void sendACCommand(uint64_t *data, const char* commandName) {
    Serial.print(F("Sending AC "));
    Serial.print(commandName);
    Serial.println(F(" command"));
    IrSender.sendPulseDistanceWidthFromArray(38, 9050, 4500, 550, 1750, 550, 650, data, 104, PROTOCOL_IS_LSB_FIRST, 0, 0);
    Serial.println(F("Command sent"));
    Serial.println();
}

void loop() {
    delay(1000);
    sendACCommand(acOffData, "OFF");
}